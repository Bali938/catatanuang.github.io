<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finance Tracker</title>

<style>
*{box-sizing:border-box;font-family:'Segoe UI',sans-serif}
body{
  margin:0;min-height:100vh;
  display:flex;align-items:center;justify-content:center;
  color:#fff;overflow:hidden;
}

/* ===== BACKGROUND GRADIENT GERAK ===== */
.bg{
  position:fixed;inset:0;
  background:linear-gradient(120deg,#0f2027,#203a43,#2c5364,#6a11cb,#2575fc);
  background-size:400% 400%;
  animation:bgMove 18s ease infinite;
  z-index:-6;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* ===== PETIR ===== */
.lightning{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-5;
}

/* FLASH */
.lightning::before{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(255,255,255,.9);
  opacity:0;
  animation:flash 5s infinite;
}
@keyframes flash{
  0%,92%,100%{opacity:0}
  93%{opacity:.9}
  94%{opacity:.2}
  95%{opacity:.8}
  96%{opacity:0}
}

/* PETIR JATUH */
.bolt{
  position:absolute;
  top:-120%;
  width:3px;
  height:140%;
  background:linear-gradient(#fff,#00e5ff,transparent);
  opacity:0;
  animation:boltDrop 3s infinite;
}
@keyframes boltDrop{
  0%,85%{opacity:0;top:-120%}
  86%{opacity:1;top:0}
  88%{opacity:0}
}

/* ===== CARD ===== */
.card{
  width:100%;max-width:420px;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(16px);
  border-radius:22px;
  padding:24px;
  box-shadow:0 0 40px rgba(0,0,0,.7);
  z-index:10;
}

h1{
  text-align:center;
  background:linear-gradient(90deg,#00e5ff,#7c4dff,#00e5ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

form{display:flex;flex-direction:column;gap:12px}
input,select{
  padding:12px;border-radius:14px;border:none;font-size:1em
}

/* ===== BUTTON GOOGLE STYLE ===== */
button{
  padding:12px;border-radius:14px;border:none;
  font-size:1em;font-weight:900;cursor:pointer;color:#fff;
  background:linear-gradient(
    90deg,#4285F4,#EA4335,#FBBC05,#34A853,#4285F4
  );
  background-size:300% 100%;
  animation:googleRun 4s linear infinite;
}
button:hover{animation-duration:1.5s}
button:active{transform:scale(.96)}

@keyframes googleRun{
  0%{background-position:0% 50%}
  100%{background-position:100% 50%}
}

.link{text-align:center;font-size:.9em}
.link a{color:#00e5ff;text-decoration:none}

.saldo{text-align:center;font-size:1.5em;color:#00e676;font-weight:900}

.item{
  display:flex;justify-content:space-between;align-items:center;
  background:rgba(255,255,255,.1);
  padding:10px;border-radius:12px;margin-top:8px
}
.in{border-left:4px solid #2ecc71}
.out{border-left:4px solid #ff5252}
.delete{background:#ff1744;border:none;border-radius:8px;color:#fff}
.logout{background:#555;border-radius:10px;color:#fff;padding:8px}
.top{display:flex;justify-content:space-between;align-items:center}

/* SHAKE LOGIN GAGAL */
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}
</style>
</head>

<body>

<div class="bg"></div>

<div class="lightning">
  <span class="bolt" style="left:10%"></span>
  <span class="bolt" style="left:25%;animation-delay:1s"></span>
  <span class="bolt" style="left:40%;animation-delay:2.2s"></span>
  <span class="bolt" style="left:55%;animation-delay:.8s"></span>
  <span class="bolt" style="left:70%;animation-delay:1.6s"></span>
  <span class="bolt" style="left:85%;animation-delay:2.8s"></span>
</div>

<!-- LOGIN -->
<div class="card" id="loginBox">
  <h1>Finance Tracker</h1>
  <form id="loginForm">
    <input id="loginUser" placeholder="Username" required>
    <input id="loginPass" type="password" placeholder="Password" required>
    <button type="submit">LOGIN</button>
  </form>
  <div class="link">Belum punya akun? <a href="#" onclick="showRegister()">Daftar</a></div>
</div>

<!-- REGISTER -->
<div class="card" id="registerBox" style="display:none">
  <h1>Daftar</h1>
  <form id="registerForm">
    <input id="regUser" placeholder="Username" required>
    <input id="regPass" type="password" placeholder="Password" required>
    <button>DAFTAR</button>
  </form>
  <div class="link"><a href="#" onclick="showLogin()">Kembali</a></div>
</div>

<!-- APP -->
<div class="card" id="appBox" style="display:none">
  <div class="top">
    <b id="greet"></b>
    <button class="logout" onclick="logout()">Logout</button>
  </div>

  <form id="trxForm">
    <input id="desc" placeholder="Deskripsi" required>
    <input id="amount" type="number" placeholder="Jumlah" required>
    <select id="type">
      <option value="in">Pemasukan</option>
      <option value="out">Pengeluaran</option>
    </select>
    <button type="submit">TAMBAH</button>
  </form>

  <div class="saldo">Rp <span id="saldo">0</span></div>
  <div id="list"></div>
</div>

<script>
const loginBox=document.getElementById("loginBox");
const registerBox=document.getElementById("registerBox");
const appBox=document.getElementById("appBox");

let akun=JSON.parse(localStorage.getItem("akun"))||[];
let trx=JSON.parse(localStorage.getItem("trx"))||[];

function showRegister(){loginBox.style.display="none";registerBox.style.display="block"}
function showLogin(){registerBox.style.display="none";loginBox.style.display="block"}
function logout(){appBox.style.display="none";showLogin()}

loginForm.onsubmit=e=>{
  e.preventDefault();
  const ok=akun.find(a=>a.u===loginUser.value&&a.p===loginPass.value);
  if(!ok){
    loginBox.style.animation="shake .4s";
    setTimeout(()=>loginBox.style.animation="",400);
    return;
  }
  greet.innerText="Halo, "+loginUser.value;
  loginBox.style.display="none";
  appBox.style.display="block";
  render();
};

registerForm.onsubmit=e=>{
  e.preventDefault();
  akun.push({u:regUser.value,p:regPass.value});
  localStorage.setItem("akun",JSON.stringify(akun));
  showLogin();
};

trxForm.onsubmit=e=>{
  e.preventDefault();
  trx.push({d:desc.value,a:+amount.value,t:type.value});
  localStorage.setItem("trx",JSON.stringify(trx));
  trxForm.reset();render();
};

function render(){
  let s=0;list.innerHTML="";
  trx.forEach((x,i)=>{
    s+=x.t==="in"?x.a:-x.a;
    list.innerHTML+=`
      <div class="item ${x.t}">
        <div>${x.d}</div>
        <div>Rp ${x.a.toLocaleString()}</div>
        <button class="delete" onclick="del(${i})">Ã—</button>
      </div>`;
  });
  saldo.innerText=s.toLocaleString();
}
function del(i){trx.splice(i,1);localStorage.setItem("trx",JSON.stringify(trx));render()}
</script>

</body>
</html>
